<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curta e mini filmes ğŸ˜</title>
    <link rel="stylesheet" href="styles.css"> <!-- Link para o CSS externo -->
</head>
<body>
    <header>
        <h1>Curtas E mini FIlmes ğŸ˜</h1>
        <p>Clique em + para explorar as playlists e aproveite os curtas com amor! â¤ï¸</p>
    </header>
    
    <section>
        <h2>O que Ã© um curta? ğŸ¬</h2>
        <button class="toggle-btn" onclick="toggleExplanation(event)">â•</button>
        <div class="explicacao">
            <p>ğŸ¬ Curta-metragem ou, simplesmente, curta Ã© um filme de pequena duraÃ§Ã£o ğŸ¥, podendo apresentar-se como uma produÃ§Ã£o cinematogrÃ¡fica de cariz estÃ©tico ğŸŒŸ, recreativo ğŸ‰, informativo ğŸ“š, didÃ¡tico ğŸ“– ou publicitÃ¡rio ğŸ“¢.</p>
            <p>O termo inglÃªs equivalente a curta-metragem (short film) comeÃ§ou a ser utilizado nos Estados Unidos ğŸ‡ºğŸ‡¸ na dÃ©cada de 1910, quando a duraÃ§Ã£o de boa parte dos filmes comeÃ§ou a aumentar â³. A princÃ­pio, o formato de curta-metragem foi mais utilizado em filmes de animaÃ§Ã£o ğŸ¨. Ainda hoje hÃ¡ muitos filmes com aÃ§Ã£o ao vivo (live-action) e de animaÃ§Ã£o produzidos em curta-metragem ğŸï¸, havendo inclusive um prÃªmio Oscar ğŸ† para cada tipo. A metragem curta Ã© tambÃ©m adotada em documentÃ¡rios ğŸ“½ï¸, filmes de estudantes ğŸ‘©â€ğŸ“ e filmes de pesquisa experimental ğŸ”. No Brasil ğŸ‡§ğŸ‡·, o formato Ã© bastante difundido e estÃ¡ em expansÃ£o desde os anos 1970 ğŸ“….</p>
        </div>
    </section>
    
    <div class="categorias">
        <div class="categoria" id="romance">
            <h2>Romance ğŸ’–</h2>
            <div class="video-container" id="video-container-romance"></div>
            <button onclick="loadMoreVideos('romance'); createParticles(event)">Carregar mais vÃ­deos ğŸ“½ï¸</button>
        </div>

        <div class="categoria" id="emocao">
            <h2>EmoÃ§Ã£o ğŸ˜¢</h2>
            <div class="video-container" id="video-container-emocao"></div>
            <button onclick="loadMoreVideos('emocao'); createParticles(event)">Carregar mais vÃ­deos ğŸ“½ï¸</button>
        </div>

        <div class="categoria" id="fantasia">
            <h2>Fantasia ğŸŒˆ</h2>
            <div class="video-container" id="video-container-fantasia"></div>
            <button onclick="loadMoreVideos('fantasia'); createParticles(event)">Carregar mais vÃ­deos ğŸ“½ï¸</button>
        </div>

        <div class="categoria" id="ultimate_recaps">
            <h2>Ultimate Recaps âš¡</h2>
            <div class="video-container" id="video-container-ultimate_recaps"></div>
            <button onclick="loadMoreVideos('ultimate_recaps'); createParticles(event)">Carregar mais vÃ­deos ğŸ“½ï¸</button>
        </div>

        <div class="categoria" id="terror">
            <h2>Terror ğŸ‘»</h2>
            <div class="video-container" id="video-container-terror"></div>
            <button onclick="loadMoreVideos('terror'); createParticles(event)">Carregar mais vÃ­deos ğŸ“½ï¸</button>
        </div>
    </div>
    
    <section>
      <h2> â™¡ APROVEITE OS CURTAS â™¡ ğŸ‰</h2>
    </section>
    
    <script>
        const apiKey = "AIzaSyDRR_FQKmVtSp3WQZ4qICQaBxT2_96KiSU";
        const playlists = {
            romance: "PLhj3v7Mjd_ZnGaSR6y0YmaLIE_Fr1Detm",
            emocao: "PLhj3v7Mjd_ZlP4qX_bOf_xbIghfALI2ut",
            fantasia: "PLhj3v7Mjd_ZndHSYyBd8-EhI912hcLE7r",
            ultimate_recaps: "PLHP1QHQet4lzCtZdz3VQzdeH17aqQyIpz",
            terror: "PL6TdKHdCGHMRBTNEcUuavTaxZSd4MgGXm"
        };

        // Objeto para armazenar vÃ­deos carregados por categoria
        const loadedVideos = {
            romance: [],
            emocao: [],
            fantasia: [],
            ultimate_recaps: [],
            terror: []
        };

        // Objeto para armazenar o token da prÃ³xima pÃ¡gina por categoria
        const nextPageToken = {
            romance: "",
            emocao: "",
            fantasia: "",
            ultimate_recaps: "",
            terror: ""
        };

        // NÃºmero de vÃ­deos a carregar por vez
        const videosToLoad = 4;

        function loadVideos(playlistId, category, pageToken = "") {
            const url = `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=${videosToLoad}&playlistId=${playlistId}&key=${apiKey}${pageToken ? `&pageToken=${pageToken}` : ''}`;
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    nextPageToken[category] = data.nextPageToken || ""; // Armazenar o token da prÃ³xima pÃ¡gina
                    data.items.forEach(item => {
                        loadedVideos[category].push(item.snippet.resourceId.videoId); // Adicionar o vÃ­deo carregado
                    });
                    renderVideos(loadedVideos[category], category);
                })
                .catch(error => console.error("Erro ao carregar vÃ­deos:", error));
        }

        function renderVideos(videoIds, category) {
            const container = document.getElementById(`video-container-${category}`);
            container.innerHTML = ''; // Limpa o container antes de adicionar novos vÃ­deos
            videoIds.forEach(videoId => {
                const iframe = document.createElement('iframe');
                iframe.src = `https://www.youtube.com/embed/${videoId}?enablejsapi=1`; // Adiciona "?enablejsapi=1" para ativar a API do YouTube
                iframe.width = '300';
                iframe.height = '169';
                iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
                iframe.setAttribute('allowfullscreen', '');
                iframe.setAttribute('class', 'video');
                container.appendChild(iframe);
            });
        }

        function loadMoreVideos(category) {
            loadVideos(playlists[category], category, nextPageToken[category]);
        }

        // FunÃ§Ã£o para criar partÃ­culas ao clicar
        function createParticles(event) {
            const button = event.target;
            const numParticles = 20;
            for (let i = 0; i < numParticles; i++) {
                const particle = document.createElement('span');
                particle.classList.add('particle');
                button.appendChild(particle);

                // Definindo a posiÃ§Ã£o e o movimento das partÃ­culas
                const size = Math.random() * 5 + 2 + 'px'; // Tamanho aleatÃ³rio
                particle.style.width = size;
                particle.style.height = size;

                const x = (Math.random() - 0.5) * 100; // Movimenta horizontalmente
                const y = (Math.random() - 0.5) * 100; // Movimenta verticalmente
                particle.style.transform = `translate(${x}px, ${y}px)`;

                // Remove as partÃ­culas apÃ³s a animaÃ§Ã£o
                setTimeout(() => {
                    particle.remove();
                }, 1000);
            }
        }

        // FunÃ§Ã£o para mostrar/ocultar explicaÃ§Ã£o
function toggleExplanation(event) {
    const explicacao = document.querySelector('.explicacao');

    if (explicacao.classList.contains('show')) {
        // Se jÃ¡ estiver visÃ­vel, remova a classe para iniciar a animaÃ§Ã£o de desvanecimento
        explicacao.classList.remove('show');

        // Espera a animaÃ§Ã£o de desvanecimento terminar antes de ocultar
        setTimeout(() => {
            explicacao.style.display = 'none'; // Define como none apÃ³s a animaÃ§Ã£o
        }, 800); // Tempo da animaÃ§Ã£o
    } else {
        explicacao.style.display = 'block'; // Muda para block antes de adicionar a classe
        setTimeout(() => {
            explicacao.classList.add('show'); // Adiciona a classe apÃ³s mudar para block
        }, 10); // Um pequeno atraso para permitir a transiÃ§Ã£o
    }
    
    createParticles(event);
}

        // Carrega os vÃ­deos inicialmente ao entrar na pÃ¡gina
        window.onload = function() {
            for (const category in playlists) {
                loadVideos(playlists[category], category);
            }
        };
    </script>
</body>
</html>

